{"version":3,"file":"js/login.8607df58.js","mappings":"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","sources":["webpack://shop3/./src/views/Login.vue","webpack://shop3/./src/views/Login.vue?240b"],"sourcesContent":["<template>\r\n  <div class=\"row p-0 m-0 w-100 d-grid\" style=\"min-height: 500px !important\">\r\n    <div class=\"col-10 col-lg-3 p-0 align-self-center mx-auto\">\r\n      <div class=\"card w-100\" style=\"border-color: #eeeeee !important; border-radius: 2px;\">\r\n        <div class=\"card-body p-0\">\r\n          <div v-if=\"!mobileValidated\" class=\"mobile-form\">\r\n            <p class=\"p-3 small\">برای ورود یا عضویت در سایت، شماره موبایل خود را وارد کنید.</p>\r\n            <form class=\"form-floating p-3\" dir=\"ltr\" @submit.prevent=\"validateMobile\">\r\n              <input type=\"number\" class=\"form-control en rounded rounded-1\" :class=\"{'is-invalid': invalidMobile}\"\r\n                     id=\"mobile\">\r\n              <label for=\"mobile\" class=\"form-label text-end\">شماره موبایل</label>\r\n\r\n            </form>\r\n            <ul class=\"small invalid-feedback d-block\">\r\n              <li v-for=\"error in errors\">{{ error }}</li>\r\n            </ul>\r\n            <button class=\"submit-btn bg-primary text-light\" @click=\"validateMobile\">دریافت کد تایید</button>\r\n          </div>\r\n          <div v-else id=\"verify-mobile\">\r\n            <p class=\"p-3 small\">کد تایید 4 رقمی برای شما پیامک شد. لطفا کد را وارد کنید.</p>\r\n            <form class=\"p-3\" dir=\"ltr\" @reset=\"focus1stInput\" @submit.prevent=\"checkCode\">\r\n              <div class=\"d-flex\">\r\n                <input type=\"number\" @input=\"inputHandle('1')\" class=\"code me-2 form-control text-center rounded rounded-1\" min=\"0\" max=\"9\" minlength=\"1\" maxlength=\"1\" :class=\"{'border-danger': invalidCode}\" id=\"code1\">\r\n                <input type=\"number\" @input=\"inputHandle('2')\" class=\"code me-2 form-control text-center rounded rounded-1\" min=\"0\" max=\"9\" minlength=\"1\" maxlength=\"1\" :class=\"{'border-danger': invalidCode}\" id=\"code2\">\r\n                <input type=\"number\" @input=\"inputHandle('3')\" class=\"code me-2 form-control text-center rounded rounded-1\" min=\"0\" max=\"9\" minlength=\"1\" maxlength=\"1\" :class=\"{'border-danger': invalidCode}\" id=\"code3\">\r\n                <input type=\"number\" @input=\"inputHandle('4')\" class=\"code form-control text-center rounded rounded-1\"  min=\"0\" max=\"9\" minlength=\"1\" maxlength=\"1\" :class=\"{'border-danger': invalidCode}\" id=\"code4\">\r\n              </div>\r\n              <ul class=\"small invalid-feedback d-block\" dir=\"rtl\">\r\n                <li v-if=\"invalidCode\">کد وارد شده اشتباه است\r\n                  <button class=\"btn-none\" type=\"reset\">پاک کن</button>\r\n                </li>\r\n              </ul>\r\n            </form>\r\n\r\n            <button class=\"submit-btn bg-primary text-light\" @click=\"checkCode\">ورود</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {onMounted, ref} from \"vue\";\r\n\r\nexport default {\r\n  name: \"Login\",\r\n  setup() {\r\n    const invalidMobile = ref(false);\r\n    const mobileValidated = ref();\r\n    const invalidCode = ref(false);\r\n    const errors = ref([]);\r\n    onMounted(()=>{\r\n      document.querySelector('#mobile').focus();\r\n    })\r\n    const validateMobile = () => {\r\n      errors.value = [];\r\n      let mobile = document.querySelector('#mobile').value;\r\n      document.querySelector('#mobile').classList?.remove('is-invalid');\r\n\r\n      if (!mobile.startsWith('09')) {\r\n        errors.value.push('شماره موبایل باید با 09 شروع شود')\r\n      }\r\n      if (mobile.length !== 11) {\r\n        errors.value.push('شماره موبایل باید 11 رقم باشد')\r\n      }\r\n      if (errors.value.length) {\r\n        document.querySelector('#mobile').classList.add('is-invalid');\r\n      } else {\r\n        document.querySelector('#mobile').classList.add('is-valid');\r\n        mobileValidated.value = true;\r\n        localStorage.setItem('mobile',mobile);\r\n        //send otp\r\n        sendOtp(mobile);\r\n      }\r\n    }\r\n    const sendOtp = (mobile) => {\r\n      // api\r\n      // if response code is 200:\r\n\r\n      setTimeout(()=>{\r\n        focus1stInput();\r\n      },200)\r\n    }\r\n    const inputHandle = (id)=>{\r\n      document.querySelector('#code'+id).classList.remove('is-invalid');\r\n      let value = document.querySelector('#code'+id).value;\r\n      if (value<0 || value>9){\r\n        document.querySelector('#code'+id).classList.add('is-invalid');\r\n      }else{\r\n        console.log(value);\r\n        if (value != '' && value <=9 && value >= 0 ){\r\n          let n = parseInt(id)+1\r\n          document.querySelector('#code'+n)?.focus();\r\n        }\r\n\r\n      }\r\n      let code = document.querySelector('#code1').value +  document.querySelector('#code3').value+document.querySelector('#code3').value+document.querySelector('#code4').value;\r\n      checkCode(code);\r\n    }\r\n    const checkCode = (code)=>{\r\n      if (code.length === 4){\r\n        if(code === '1111'){\r\n          invalidCode.value = false;\r\n          document.querySelectorAll('.code').forEach((element)=>{\r\n            element.classList.remove('is-invalid');\r\n            element.classList.add('is-valid');\r\n          });\r\n          //login\r\n          window.location = '/profile';\r\n        }else{\r\n          invalidCode.value = true;\r\n        }\r\n      }else{\r\n        invalidCode.value = false;\r\n      }\r\n    }\r\n    const focus1stInput = ()=>\r\n    {\r\n      console.log(document.querySelector('#code1'))\r\n      document.querySelector('#code1').focus();\r\n      invalidCode.value = false;\r\n\r\n    }\r\n    return {\r\n      invalidMobile, validateMobile, errors, sendOtp, invalidCode,inputHandle, checkCode,focus1stInput,mobileValidated\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import { render } from \"./Login.vue?vue&type=template&id=f92f8e60\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","style","_createElementVNode","for","id","dir","type","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","$setup","mobileValidated","_hoisted_9","_hoisted_10","onReset","_cache","args","focus1stInput","onSubmit","_withModifiers","checkCode","_hoisted_11","onInput","$event","inputHandle","_normalizeClass","invalidCode","min","max","minlength","maxlength","_hoisted_12","_hoisted_13","_hoisted_14","onClick","_hoisted_5","_hoisted_6","validateMobile","invalidMobile","_hoisted_7","_hoisted_8","_Fragment","_renderList","errors","error","_toDisplayString","name","setup","ref","onMounted","document","querySelector","focus","value","mobile","classList","remove","startsWith","push","length","add","localStorage","setItem","sendOtp","setTimeout","console","log","n","parseInt","code","querySelectorAll","forEach","element","window","location","__exports__","render"],"sourceRoot":""}