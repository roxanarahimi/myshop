"use strict";(self["webpackChunkshop3"]=self["webpackChunkshop3"]||[]).push([[535],{4016:function(e,l,o){o.r(l),o.d(l,{default:function(){return q}});var t=o(3396),n=o(9242),i=o(7139);const d={class:"row p-0 m-0 w-100 d-grid",style:{"min-height":"500px !important"}},r={class:"col-10 col-lg-3 p-0 align-self-center mx-auto"},c={class:"card w-100",style:{"border-color":"#eeeeee !important","border-radius":"2px"}},a={class:"card-body p-0"},u={key:0,class:"mobile-form"},s=(0,t._)("p",{class:"p-3 small"},"برای ورود یا عضویت در سایت، شماره موبایل خود را وارد کنید.",-1),m=(0,t._)("label",{for:"mobile",class:"form-label text-end"},"شماره موبایل",-1),v={class:"small invalid-feedback d-block"},b={key:1,id:"verify-mobile"},p=(0,t._)("p",{class:"p-3 small"},"کد تایید 4 رقمی برای شما پیامک شد. لطفا کد را وارد کنید.",-1),g={class:"d-flex"},f={class:"small invalid-feedback d-block",dir:"rtl"},y={key:0},h=(0,t._)("button",{class:"btn-none",type:"reset"},"پاک کن",-1);function _(e,l,o,_,k,C){return(0,t.wg)(),(0,t.iD)("div",d,[(0,t._)("div",r,[(0,t._)("div",c,[(0,t._)("div",a,[_.mobileValidated?((0,t.wg)(),(0,t.iD)("div",b,[p,(0,t._)("form",{class:"p-3",dir:"ltr",onReset:l[6]||(l[6]=(...e)=>_.focus1stInput&&_.focus1stInput(...e)),onSubmit:l[7]||(l[7]=(0,n.iM)(((...e)=>_.checkCode&&_.checkCode(...e)),["prevent"]))},[(0,t._)("div",g,[(0,t._)("input",{type:"number",onInput:l[2]||(l[2]=e=>_.inputHandle("1")),class:(0,i.C_)(["code me-2 form-control text-center rounded rounded-1",{"border-danger":_.invalidCode}]),min:"0",max:"9",minlength:"1",maxlength:"1",id:"code1"},null,34),(0,t._)("input",{type:"number",onInput:l[3]||(l[3]=e=>_.inputHandle("2")),class:(0,i.C_)(["code me-2 form-control text-center rounded rounded-1",{"border-danger":_.invalidCode}]),min:"0",max:"9",minlength:"1",maxlength:"1",id:"code2"},null,34),(0,t._)("input",{type:"number",onInput:l[4]||(l[4]=e=>_.inputHandle("3")),class:(0,i.C_)(["code me-2 form-control text-center rounded rounded-1",{"border-danger":_.invalidCode}]),min:"0",max:"9",minlength:"1",maxlength:"1",id:"code3"},null,34),(0,t._)("input",{type:"number",onInput:l[5]||(l[5]=e=>_.inputHandle("4")),class:(0,i.C_)(["code form-control text-center rounded rounded-1",{"border-danger":_.invalidCode}]),min:"0",max:"9",minlength:"1",maxlength:"1",id:"code4"},null,34)]),(0,t._)("ul",f,[_.invalidCode?((0,t.wg)(),(0,t.iD)("li",y,[(0,t.Uk)("کد وارد شده اشتباه است "),h])):(0,t.kq)("",!0)])],32),(0,t._)("button",{class:"submit-btn bg-primary text-light",onClick:l[8]||(l[8]=(...e)=>_.checkCode&&_.checkCode(...e))},"ورود")])):((0,t.wg)(),(0,t.iD)("div",u,[s,(0,t._)("form",{class:"form-floating p-3",dir:"ltr",onSubmit:l[0]||(l[0]=(0,n.iM)(((...e)=>_.validateMobile&&_.validateMobile(...e)),["prevent"]))},[(0,t._)("input",{type:"number",class:(0,i.C_)(["form-control en rounded rounded-1",{"is-invalid":_.invalidMobile}]),id:"mobile"},null,2),m],32),(0,t._)("ul",v,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(_.errors,(e=>((0,t.wg)(),(0,t.iD)("li",null,(0,i.zw)(e),1)))),256))]),(0,t._)("button",{class:"submit-btn bg-primary text-light",onClick:l[1]||(l[1]=(...e)=>_.validateMobile&&_.validateMobile(...e))},"دریافت کد تایید")]))])])])])}o(560);var k=o(4870),C={name:"Login",setup(){const e=(0,k.iH)(!1),l=(0,k.iH)(),o=(0,k.iH)(!1),n=(0,k.iH)([]);(0,t.bv)((()=>{document.querySelector("#mobile").focus()}));const i=()=>{n.value=[];let e=document.querySelector("#mobile").value;document.querySelector("#mobile").classList?.remove("is-invalid"),e.startsWith("09")||n.value.push("شماره موبایل باید با 09 شروع شود"),11!==e.length&&n.value.push("شماره موبایل باید 11 رقم باشد"),n.value.length?document.querySelector("#mobile").classList.add("is-invalid"):(document.querySelector("#mobile").classList.add("is-valid"),l.value=!0,localStorage.setItem("mobile",e),d(e))},d=e=>{setTimeout((()=>{a()}),200)},r=e=>{document.querySelector("#code"+e).classList.remove("is-invalid");let l=document.querySelector("#code"+e).value;if(l<0||l>9)document.querySelector("#code"+e).classList.add("is-invalid");else if(console.log(l),""!=l&&l<=9&&l>=0){let l=parseInt(e)+1;document.querySelector("#code"+l)?.focus()}let o=document.querySelector("#code1").value+document.querySelector("#code3").value+document.querySelector("#code3").value+document.querySelector("#code4").value;c(o)},c=e=>{4===e.length?"1111"===e?(o.value=!1,document.querySelectorAll(".code").forEach((e=>{e.classList.remove("is-invalid"),e.classList.add("is-valid")})),window.location="/profile"):o.value=!0:o.value=!1},a=()=>{console.log(document.querySelector("#code1")),document.querySelector("#code1").focus(),o.value=!1};return{invalidMobile:e,validateMobile:i,errors:n,sendOtp:d,invalidCode:o,inputHandle:r,checkCode:c,focus1stInput:a,mobileValidated:l}}},x=o(89);const S=(0,x.Z)(C,[["render",_]]);var q=S}}]);
//# sourceMappingURL=login.8607df58.js.map