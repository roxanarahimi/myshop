"use strict";(self["webpackChunkmyshop"]=self["webpackChunkmyshop"]||[]).push([[883],{3031:function(e,t,c){c.r(t),c.d(t,{default:function(){return _}});var s=c(6768),o=c(5130),l=c(4232);const r={class:"row"},a={class:"col-lg-10 px-4 mx-auto d-flex justify-content-xl-between p-3 ps-2 pb-5"},u={class:"pt-2 shop-sidebar"},i={class:"w-100 mb-3 p-3 text-center bg-white-smoke"},n={class:"w-100 mb-3 p-3 text-center bg-white-smoke"},d={class:"w-100 mb-3 p-3 bg-white-smoke"},p={class:"form-check d-flex justify-content-start"},k={class:"w-100 mb-3 p-3 bg-white-smoke"},f={class:"form-check d-flex justify-content-start"},m={key:0,class:"w-100 mb-3 p-3 bg-white-smoke"},b={class:"form-check d-flex justify-content-start"},g=["value","id"],v=["for"],h={class:"mt-2 px-3 shop-products",style:{}},y={key:0,class:"row"};function x(e,t,c,x,L,w){const C=(0,s.g2)("product-card");return(0,s.uX)(),(0,s.CE)("div",r,[(0,s.Lk)("div",a,[(0,s.Lk)("div",u,[(0,s.Lk)("div",i,[(0,s.bo)((0,s.Lk)("input",{type:"text",id:"search",onInput:t[0]||(t[0]=(...e)=>x.getProducts&&x.getProducts(...e)),"onUpdate:modelValue":t[1]||(t[1]=e=>x.term=e),class:"form-control form-control-sm",placeholder:"جستجوی محصول"},null,544),[[o.Jo,x.term]])]),(0,s.Lk)("div",n,[(0,s.Lk)("button",{class:"btn btn-sm w-100 btn-primary text-light",onClick:t[2]||(t[2]=(...e)=>x.reset&&x.reset(...e))},"حذف فیلتر ها")]),(0,s.Lk)("div",d,[(0,s.Lk)("div",p,[(0,s.bo)((0,s.Lk)("input",{class:"form-check-input",type:"checkbox",name:"stock",onChange:t[3]||(t[3]=(...e)=>x.getProducts&&x.getProducts(...e)),"onUpdate:modelValue":t[4]||(t[4]=e=>x.stock=e),id:"exist"},null,544),[[o.lH,x.stock]]),t[8]||(t[8]=(0,s.Lk)("label",{class:"form-check-label me-4",for:"exist"},"کالاهای موجود",-1))])]),(0,s.Lk)("div",k,[(0,s.Lk)("div",f,[(0,s.bo)((0,s.Lk)("input",{class:"form-check-input",type:"checkbox",onChange:t[5]||(t[5]=(...e)=>x.getProducts&&x.getProducts(...e)),"onUpdate:modelValue":t[6]||(t[6]=e=>x.off=e),id:"off"},null,544),[[o.lH,x.off]]),t[9]||(t[9]=(0,s.Lk)("label",{class:"form-check-label me-4",for:"off"},"شامل تخفیف",-1))])]),x.categories.length?((0,s.uX)(),(0,s.CE)("div",m,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(x.categories,e=>((0,s.uX)(),(0,s.CE)("div",b,[(0,s.Lk)("input",{class:"form-check-input",name:"category_ids[]",value:e.id,onChange:t[7]||(t[7]=(...e)=>x.getProducts&&x.getProducts(...e)),type:"checkbox",id:"cat-"+e.id},null,40,g),(0,s.Lk)("label",{class:"form-check-label me-4",for:"cat-"+e.id},(0,l.v_)(e.title),9,v)]))),256))])):(0,s.Q3)("",!0)]),(0,s.Lk)("div",h,[x.products?.length?((0,s.uX)(),(0,s.CE)("div",y,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(x.products,(e,t)=>((0,s.uX)(),(0,s.CE)("div",{class:"col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2 h-100 px-1",key:t},[(0,s.bF)(C,{product:e,index:t,url:x.imgUrl},null,8,["product","index","url"])]))),128))])):(0,s.Q3)("",!0)])])])}c(8111),c(7588),c(1701);var L=c(5260),w=c(144),C=c(2568),E={name:"Shop",components:{ProductCard:L.A},setup(){const e=(0,w.KR)([]),t=(0,w.KR)(),c=C.A.setup().url,o=C.A.setup().imgUrl,l=()=>{axios.get(c+"/api/categories").then(t=>{e.value=t.data}).catch(e=>{console.error(e)})},r=(0,w.KR)([]),a=(0,w.KR)(!1),u=(0,w.KR)(!1),i=(0,w.KR)(!1),n=(0,w.KR)("new"),d=(0,w.KR)(""),p=()=>{setTimeout(()=>{r.value=Array.from(document.querySelectorAll('input[name="category_ids[]"]:checked')).map(e=>e.value),axios.get(c+"/api/products?category_ids="+r.value+"&stock="+a.value+"&new="+u.value+"&off="+i.value+"&sort="+n.value+"&term="+d.value).then(e=>{t.value=e.data}).catch(e=>{console.error(e)})},300)};(0,s.sV)(()=>{document.querySelector("#search")?.focus(),l(),p()});const k=()=>{document.querySelectorAll('input[type="checkbox"]:checked').forEach(e=>e.checked=!1),p()};return{term:d,products:t,categories:e,getProducts:p,getCategories:l,url:c,imgUrl:o,category_ids:r,stock:a,is_new:u,off:i,sort:n,reset:k}}},X=c(1241);const P=(0,X.A)(E,[["render",x]]);var _=P},5260:function(e,t,c){c.d(t,{A:function(){return K}});var s=c(6768),o=c(4232);const l={key:0,class:"card w-100 mb-2",style:{"border-color":"#eeeeee !important","border-radius":"2px",cursor:"pointer"}},r={class:"card-body p-0 h-100"},a=["href"],u={class:"w-100 text-center",style:{position:"absolute",top:"50px",left:"0","z-index":"100"}},i={key:0,width:"100",class:"",src:"/img/sold.png"},n={class:"row p-1 mx-auto w-100 product-labels"},d={class:"col-6 p-0"},p={key:0,class:"text-center position-relative new-label"},k={class:"col-6 p-0",dir:"ltr"},f={key:0,class:"text-center position-relative off-label"},m={class:"bg-primary text-light text-center off-label-body"},b={class:"text-center"},g={class:"fw-bold titles-font-size"},v={class:"titles-font-size"},h={key:0,class:"d-flex justify-content-center"},y={key:0,class:"titles-font-size text-black-50 text-decoration-line-through ms-2"},x={class:"titles-font-size text-primary"},L={key:1,class:"d-flex justify-content-center"},w={style:{height:"35px",display:"grid"}},C={key:0,class:"add-to-cart-2 bg-primary"};function E(e,t,c,E,X,P){const _=(0,s.g2)("lazy-image");return c.product?((0,s.uX)(),(0,s.CE)("div",l,[(0,s.Lk)("div",r,[(0,s.Lk)("a",{href:"/product/"+c.product.slug,class:"w-100"},[(0,s.Lk)("div",u,[0===c.product.stock?((0,s.uX)(),(0,s.CE)("img",i)):(0,s.Q3)("",!0)]),(0,s.Lk)("div",{class:(0,o.C4)({"gray-scale":0===c.product.stock})},[(0,s.Lk)("div",n,[(0,s.Lk)("div",d,[c.product.new?((0,s.uX)(),(0,s.CE)("div",p,[...t[0]||(t[0]=[(0,s.Lk)("div",{class:"bg-success text-light text-center new-label-body justify-content-end"},"جدید",-1),(0,s.Lk)("div",{class:"bg-success mx-auto new-label-pointer"},null,-1)])])):(0,s.Q3)("",!0)]),(0,s.Lk)("div",k,[c.product.off&&c.product.stock?((0,s.uX)(),(0,s.CE)("div",f,[(0,s.Lk)("div",m,(0,o.v_)(c.product.off)+"%",1),t[1]||(t[1]=(0,s.Lk)("div",{class:"bg-primary mx-auto off-label-pointer"},null,-1))])):(0,s.Q3)("",!0)])]),c.product.id?((0,s.uX)(),(0,s.Wv)(_,{key:0,data:{image:c.url+c.product?.images[0],title:c.product.title}},null,8,["data"])):(0,s.Q3)("",!0),(0,s.Lk)("div",b,[(0,s.Lk)("small",g,(0,o.v_)(c.product.title),1),t[3]||(t[3]=(0,s.Lk)("br",null,null,-1)),(0,s.Lk)("small",v,"محصول کشور "+(0,o.v_)(c.product.made_in),1),t[4]||(t[4]=(0,s.Lk)("br",null,null,-1)),c.product.stock>0?((0,s.uX)(),(0,s.CE)("div",h,[c.product.off?((0,s.uX)(),(0,s.CE)("b",y,(0,o.v_)(E.price),1)):(0,s.Q3)("",!0),(0,s.Lk)("b",x,(0,o.v_)(E.offPrice)+" تومان",1)])):((0,s.uX)(),(0,s.CE)("div",L,[...t[2]||(t[2]=[(0,s.Lk)("b",{class:"titles-font-size text-primary"},"ناموجود",-1)])]))])],2)],8,a),(0,s.Lk)("div",w,[c.product.stock?((0,s.uX)(),(0,s.CE)("button",C,[...t[5]||(t[5]=[(0,s.Lk)("i",{class:"bi bi-cart-plus-fill"},null,-1)])])):(0,s.Q3)("",!0)])])])):(0,s.Q3)("",!0)}var X=c(896),P={name:"ProductCard",props:["product","index","url"],components:{LazyImage:X.A},setup(e){const t=e=>(new Intl.NumberFormat).format(e),c=t(e.product.price),s=t(e.product.price-e.product.price*e.product.off*.01);return{price:c,offPrice:s,showNumbers:t}}},_=c(1241);const A=(0,_.A)(P,[["render",E]]);var K=A}}]);
//# sourceMappingURL=shop.15ee9560.js.map