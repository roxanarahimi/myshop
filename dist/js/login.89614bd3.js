"use strict";(self["webpackChunkshop3"]=self["webpackChunkshop3"]||[]).push([[535],{8419:function(e,l,o){o.r(l),o.d(l,{default:function(){return H}});var t=o(3396),n=o(9242),i=o(7139);const d={class:"row p-0 m-0 w-100 d-grid",style:{"min-height":"500px !important"}},c={class:"col-10 col-lg-3 p-0 align-self-center mx-auto"},r={class:"card w-100",style:{"border-color":"#eeeeee !important","border-radius":"2px"}},a={class:"card-body p-0"},s={key:0,class:"mobile-form"},u=(0,t._)("p",{class:"p-3 small"},"برای ورود یا عضویت در سایت، شماره موبایل خود را وارد کنید.",-1),m=(0,t._)("label",{for:"mobile",class:"form-label text-end"},"شماره موبایل",-1),b={class:"small invalid-feedback d-block"},v={key:1,id:"verify-mobile"},p=(0,t._)("p",{class:"p-3 small"},"کد تایید 4 رقمی برای شما پیامک شد. لطفا کد را وارد کنید.",-1),f={class:"col-12 d-flex justify-content-between px-3"},g={id:"time"},y={class:"d-flex"},h={class:"small invalid-feedback d-block",dir:"rtl"},_={key:0},k=(0,t._)("button",{class:"btn-none",type:"reset"},"پاک کن",-1);function x(e,l,o,x,C,S){return(0,t.wg)(),(0,t.iD)("div",d,[(0,t._)("div",c,[(0,t._)("div",r,[(0,t._)("div",a,[x.mobileValidated?((0,t.wg)(),(0,t.iD)("div",v,[p,(0,t._)("div",f,[(0,t._)("small",{disabled:"",id:"resend",onClick:l[2]||(l[2]=(...l)=>e.resend&&e.resend(...l)),class:"text-black-50"},[(0,t.Uk)("ارسال مجدد کد "),(0,t._)("span",g,(0,i.zw)(x.time),1)]),(0,t._)("small",{onClick:l[3]||(l[3]=(...l)=>e.editNumber&&e.editNumber(...l)),class:"text-black-50 cursor"},"ویرایش شماره")]),(0,t._)("form",{class:"p-3",dir:"ltr",onReset:l[8]||(l[8]=(...e)=>x.focus1stInput&&x.focus1stInput(...e)),onSubmit:l[9]||(l[9]=(0,n.iM)(((...e)=>x.checkCode&&x.checkCode(...e)),["prevent"]))},[(0,t._)("div",y,[(0,t._)("input",{type:"number",onInput:l[4]||(l[4]=e=>x.inputHandle("1")),class:(0,i.C_)(["code me-2 form-control text-center rounded rounded-1",{"border-danger":x.invalidCode}]),min:"0",max:"9",minlength:"1",maxlength:"1",id:"code1"},null,34),(0,t._)("input",{type:"number",onInput:l[5]||(l[5]=e=>x.inputHandle("2")),class:(0,i.C_)(["code me-2 form-control text-center rounded rounded-1",{"border-danger":x.invalidCode}]),min:"0",max:"9",minlength:"1",maxlength:"1",id:"code2"},null,34),(0,t._)("input",{type:"number",onInput:l[6]||(l[6]=e=>x.inputHandle("3")),class:(0,i.C_)(["code me-2 form-control text-center rounded rounded-1",{"border-danger":x.invalidCode}]),min:"0",max:"9",minlength:"1",maxlength:"1",id:"code3"},null,34),(0,t._)("input",{type:"number",onInput:l[7]||(l[7]=e=>x.inputHandle("4")),class:(0,i.C_)(["code form-control text-center rounded rounded-1",{"border-danger":x.invalidCode}]),min:"0",max:"9",minlength:"1",maxlength:"1",id:"code4"},null,34)]),(0,t._)("ul",h,[x.invalidCode?((0,t.wg)(),(0,t.iD)("li",_,[(0,t.Uk)("کد وارد شده اشتباه است "),k])):(0,t.kq)("",!0)])],32),(0,t._)("button",{class:"submit-btn bg-primary text-light",onClick:l[10]||(l[10]=(...e)=>x.checkCode&&x.checkCode(...e))},"ورود")])):((0,t.wg)(),(0,t.iD)("div",s,[u,(0,t._)("form",{class:"form-floating p-3",dir:"ltr",onSubmit:l[0]||(l[0]=(0,n.iM)(((...e)=>x.validateMobile&&x.validateMobile(...e)),["prevent"]))},[(0,t._)("input",{type:"number",class:(0,i.C_)(["form-control en rounded rounded-1",{"is-invalid":x.invalidMobile}]),id:"mobile"},null,2),m],32),(0,t._)("ul",b,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(x.errors,(e=>((0,t.wg)(),(0,t.iD)("li",null,(0,i.zw)(e),1)))),256))]),(0,t._)("button",{class:"submit-btn bg-primary text-light",onClick:l[1]||(l[1]=(...e)=>x.validateMobile&&x.validateMobile(...e))},"دریافت کد تایید")]))])])])])}o(560);var C=o(4870),S={name:"Login",setup(){const e=(0,C.iH)(!1),l=(0,C.iH)(),o=(0,C.iH)(!1),n=(0,C.iH)([]);(0,t.bv)((()=>{document.querySelector("#mobile").focus()}));const i=()=>{n.value=[];let e=document.querySelector("#mobile").value;document.querySelector("#mobile").classList?.remove("is-invalid"),e.startsWith("09")||n.value.push("شماره موبایل باید با 09 شروع شود"),11!==e.length&&n.value.push("شماره موبایل باید 11 رقم باشد"),n.value.length?document.querySelector("#mobile").classList.add("is-invalid"):(document.querySelector("#mobile").classList.add("is-valid"),l.value=!0,localStorage.setItem("mobile",e),d(e))},d=e=>{setTimeout((()=>{a()}),200)},c=e=>{document.querySelector("#code"+e).classList.remove("is-invalid");let l=document.querySelector("#code"+e).value;if(l<0||l>9)document.querySelector("#code"+e).classList.add("is-invalid");else if(console.log(l),""!=l&&l<=9&&l>=0){let l=parseInt(e)+1;document.querySelector("#code"+l)?.focus()}let o=document.querySelector("#code1").value+document.querySelector("#code3").value+document.querySelector("#code3").value+document.querySelector("#code4").value;r(o)},r=e=>{4===e.length?"1111"===e?(o.value=!1,document.querySelectorAll(".code").forEach((e=>{e.classList.remove("is-invalid"),e.classList.add("is-valid")})),window.location="/profile"):o.value=!0:o.value=!1},a=()=>{console.log(document.querySelector("#code1")),document.querySelector("#code1").focus(),o.value=!1},s=(0,C.iH)(59);return{invalidMobile:e,validateMobile:i,errors:n,sendOtp:d,invalidCode:o,inputHandle:c,checkCode:r,focus1stInput:a,mobileValidated:l,time:s}}},q=o(89);const w=(0,q.Z)(S,[["render",x]]);var H=w}}]);
//# sourceMappingURL=login.89614bd3.js.map