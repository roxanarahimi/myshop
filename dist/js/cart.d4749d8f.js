"use strict";(self["webpackChunkmyshop"]=self["webpackChunkmyshop"]||[]).push([[949],{1119:function(t,e,l){l.r(e),l.d(e,{default:function(){return X}});var n=l(6768),a=l(4232);const d={class:"row justify-content-center"},s={class:"col-lg-10 mb-5 p-4 p-md-3"},i={class:"overflow-y-scroll"},u={class:"table border mb-0"},o={class:"d-none d-lg-table-cell"},c={class:"product"},r=["id","value"],m={class:"mb-3"},b={class:"d-block d-lg-none"},k=["onClick"],p=["value","id"],y=["onClick"],g={class:"flex-nowrap d-none d-lg-table-cell"},L=["onClick"],h=["value","id"],_=["onClick"],f=["id"],v=["id"],x=["id"],I={class:"table border border-top-0 table-borderless w-100"},w={style:{"text-align":"left !important"}};function E(t,e,l,E,B,q){return(0,n.uX)(),(0,n.CE)("div",d,[(0,n.Lk)("div",s,[e[7]||(e[7]=(0,n.Lk)("div",{class:"d-flex py-5 justify-content-between"},[(0,n.Lk)("h3",{class:""},"سبد خرید"),(0,n.Lk)("button",{class:"btn btn-sm btn-dark text-light"},"حذف سبد")],-1)),(0,n.Lk)("div",i,[(0,n.Lk)("table",u,[e[3]||(e[3]=(0,n.Lk)("thead",null,[(0,n.Lk)("tr",null,[(0,n.Lk)("th",{class:"d-none d-lg-table-cell",style:{width:"20px"}},"ردیف"),(0,n.Lk)("th",{class:"d-none d-lg-table-cell",style:{width:"50px"}}),(0,n.Lk)("th",{class:"product"},"محصول"),(0,n.Lk)("th",{class:"d-none d-lg-table-cell"},"تعداد"),(0,n.Lk)("th",null,"قیمت"),(0,n.Lk)("th",null,"تخفیف"),(0,n.Lk)("th",null,"مبلغ"),(0,n.Lk)("th",{class:"",style:{width:"20px"}})])],-1)),(0,n.Lk)("tbody",null,[((0,n.uX)(!0),(0,n.CE)(n.FK,null,(0,n.pI)(E.data.items,(t,l)=>((0,n.uX)(),(0,n.CE)("tr",{class:"",key:l},[(0,n.Lk)("td",o,(0,a.v_)(l+1),1),e[1]||(e[1]=(0,n.Lk)("td",{class:"d-none d-lg-table-cell"},[(0,n.Lk)("img",{src:"/img/instalogo.png",class:"rounded",width:"50px",alt:""})],-1)),(0,n.Lk)("td",c,[(0,n.Lk)("input",{type:"hidden",id:"product_id_"+l,value:t.id,name:"items"},null,8,r),e[0]||(e[0]=(0,n.Lk)("img",{src:"/img/instalogo.png",class:"rounded d-block d-lg-none mb-3",width:"100px",alt:""},null,-1)),(0,n.Lk)("div",m,(0,a.v_)(t.title),1),(0,n.Lk)("div",b,[(0,n.Lk)("button",{class:"btn btn-sm btn-primary text-light",style:{width:"27px"},onClick:t=>E.increase(l)}," + ",8,k),(0,n.Lk)("input",{type:"number",min:"0",max:"100",value:t.quantity,id:"quantity_"+l,class:"form-control form-control-sm rounded-0 d-inline-block text-center p-0",style:{width:"27px"}},null,8,p),(0,n.Lk)("button",{class:"btn btn-sm btn-primary text-light",style:{width:"27px"},onClick:t=>E.decrease(l)}," - ",8,y)])]),(0,n.Lk)("td",g,[(0,n.Lk)("button",{class:"btn btn-sm btn-primary text-light",style:{width:"27px"},onClick:t=>E.increase(l)}," + ",8,L),(0,n.Lk)("input",{type:"number",min:"0",max:"100",value:t.quantity,id:"quantity_2_"+l,class:"form-control form-control-sm rounded-0 d-inline-block text-center p-0",style:{width:"27px"}},null,8,h),(0,n.Lk)("button",{class:"btn btn-sm btn-primary text-light",style:{width:"27px"},onClick:t=>E.decrease(l)}," - ",8,_)]),(0,n.Lk)("td",{id:"price_"+l,"data-data":"item.price"},(0,a.v_)(t.price),9,f),(0,n.Lk)("td",{id:"off_"+l,"data-data":"item.off"},(0,a.v_)(t.off)+"%",9,v),(0,n.Lk)("td",{id:"amount_"+l,"data-data":"item.amount"},(0,a.v_)(t.amount),9,x),e[2]||(e[2]=(0,n.Lk)("td",{style:{width:"20px"}},[(0,n.Lk)("button",{class:"btn btn-sm btn-secondary text-light"},[(0,n.Lk)("i",{class:"bi bi-x"})])],-1))]))),128))])]),(0,n.Lk)("table",I,[(0,n.Lk)("tbody",null,[e[5]||(e[5]=(0,n.Lk)("tr",{class:"",style:{"text-align":"left !important"}},[(0,n.Lk)("th",null,"جمع کل"),(0,n.Lk)("th",null,"تخفیف کل"),(0,n.Lk)("th",null,"مبلغ نهایی"),(0,n.Lk)("th",{class:"d-none d-lg-table-cell px-0",style:{width:"200px"}})],-1)),(0,n.Lk)("tr",w,[(0,n.Lk)("td",null,(0,a.v_)(E.data.total),1),(0,n.Lk)("td",null,(0,a.v_)(E.data.total_off),1),(0,n.Lk)("td",null,(0,a.v_)(E.data.amount),1),e[4]||(e[4]=(0,n.Lk)("td",{class:"d-none d-lg-table-cell px-0",style:{width:"200px"}},[(0,n.Lk)("a",{href:"/shop",class:"btn btn-primary text-light ms-1"},"ادامه خرید"),(0,n.Lk)("button",{class:"btn btn-success text-light"},"ثبت نهایی")],-1))]),e[6]||(e[6]=(0,n.Lk)("tr",{class:"d-lg-none",style:{"text-align":"left !important"}},[(0,n.Lk)("td",{colspan:"3"},[(0,n.Lk)("div",{class:"w-100 d-flex justify-content-between"},[(0,n.Lk)("a",{href:"/shop",class:"d-block btn btn-primary text-light ms-1"},"ادامه خرید"),(0,n.Lk)("button",{class:"btn btn-success text-light"},"ثبت نهایی")])])],-1))])])])])])}l(4114);var B=l(144),q=l(2736),C={name:"Cart",setup(){const t=q.A.setup().url,e=q.A.setup().imgUrl,l=(0,B.KR)({user_id:1,items:[{id:1,title:"فیتو بطری 60 عددی",quantity:2,price:25e5,off:10,amount:225e4},{id:2,title:"ماسک کلاژن بایودنس بسته 4 عددی",quantity:1,price:13e5,off:0,amount:13e5}],total:35e5,total_off:25e4,amount:325e4}),n=t=>{document.getElementById("quantity_"+t).value=parseInt(document.getElementById("quantity_"+t).value)+1,document.getElementById("quantity_2_"+t).value=parseInt(document.getElementById("quantity_2_"+t).value)+1,d()},a=t=>{document.getElementById("quantity_"+t).value>1&&(document.getElementById("quantity_"+t).value=parseInt(document.getElementById("quantity_"+t).value)-1),document.getElementById("quantity_2_"+t).value>1&&(document.getElementById("quantity_2_"+t).value=parseInt(document.getElementById("quantity_2_"+t).value)-1),d()},d=()=>{let e=document.getElementsByName("items").length,n=[],a=0,d=0,s=0;for(let t=0;t>e;t++){let e=document.getElementById("quantity_"+t)?.value||document.getElementById("quantity_2_"+t)?.value,l=document.getElementById("price_"+t).getAttribute("data-data")*(1-document.getElementById("off_"+t).getAttribute("data-data")/100)*e;n.push({id:document.getElementById("product_id_"+t).value,quantity:e,price:document.getElementById("price_"+t).getAttribute("data-data"),off:document.getElementById("off_"+t).getAttribute("data-data"),amount:l}),s+=l,d+=document.getElementById("price_"+t).getAttribute("data-data")*document.getElementById("off_"+t).getAttribute("data-data")/100}let i={user_id:l.user_id,orderItems:n,total:a,total_off:d,amount:s};axios.post(t+"/api/update/cart",i).then(t=>{l.value=t.data}).catch(t=>{console.error(t)})};return{data:l,increase:n,decrease:a,updateCart:d,url:t,imgUrl:e}}},A=l(1241);const j=(0,A.A)(C,[["render",E],["__scopeId","data-v-347e830d"]]);var X=j}}]);
//# sourceMappingURL=cart.d4749d8f.js.map