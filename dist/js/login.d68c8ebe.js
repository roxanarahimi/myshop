"use strict";(self["webpackChunkmyshop"]=self["webpackChunkmyshop"]||[]).push([[966],{4669:function(e,l,o){o.r(l),o.d(l,{default:function(){return x}});var t=o(6768),n=o(5130),d=o(4232);const i={class:"row p-0 m-0 w-100 d-grid",style:{"min-height":"500px !important"}},c={class:"col-10 col-lg-3 p-0 align-self-center mx-auto"},r={class:"card w-100",style:{"border-color":"#eeeeee !important","border-radius":"2px"}},a={class:"card-body p-0"},s={key:0,class:"mobile-form"},u={class:"small invalid-feedback d-block"},m={key:1,id:"verify-mobile"},b={class:"col-12 d-flex justify-content-between px-3"},v={id:"time"},p={class:"d-flex"},k={class:"small invalid-feedback d-block",dir:"rtl"},f={key:0};function y(e,l,o,y,L,h){return(0,t.uX)(),(0,t.CE)("div",i,[(0,t.Lk)("div",c,[(0,t.Lk)("div",r,[(0,t.Lk)("div",a,[y.mobileValidated?((0,t.uX)(),(0,t.CE)("div",m,[l[15]||(l[15]=(0,t.Lk)("p",{class:"p-3 small"},"کد تایید 4 رقمی برای شما پیامک شد. لطفا کد را وارد کنید.",-1)),(0,t.Lk)("div",b,[(0,t.Lk)("small",{disabled:"",id:"resend",onClick:l[2]||(l[2]=(...l)=>e.resend&&e.resend(...l)),class:"text-black-50"},[l[13]||(l[13]=(0,t.eW)("ارسال مجدد کد ",-1)),(0,t.Lk)("span",v,(0,d.v_)(y.time),1)]),(0,t.Lk)("small",{onClick:l[3]||(l[3]=(...l)=>e.editNumber&&e.editNumber(...l)),class:"text-black-50 cursor"},"ویرایش شماره")]),(0,t.Lk)("form",{class:"p-3",dir:"ltr",onReset:l[8]||(l[8]=(...e)=>y.focus1stInput&&y.focus1stInput(...e)),onSubmit:l[9]||(l[9]=(0,n.D$)((...e)=>y.checkCode&&y.checkCode(...e),["prevent"]))},[(0,t.Lk)("div",p,[(0,t.Lk)("input",{type:"number",onInput:l[4]||(l[4]=e=>y.inputHandle("1")),class:(0,d.C4)(["code me-2 form-control text-center rounded rounded-1",{"border-danger":y.invalidCode}]),min:"0",max:"9",minlength:"1",maxlength:"1",id:"code1"},null,34),(0,t.Lk)("input",{type:"number",onInput:l[5]||(l[5]=e=>y.inputHandle("2")),class:(0,d.C4)(["code me-2 form-control text-center rounded rounded-1",{"border-danger":y.invalidCode}]),min:"0",max:"9",minlength:"1",maxlength:"1",id:"code2"},null,34),(0,t.Lk)("input",{type:"number",onInput:l[6]||(l[6]=e=>y.inputHandle("3")),class:(0,d.C4)(["code me-2 form-control text-center rounded rounded-1",{"border-danger":y.invalidCode}]),min:"0",max:"9",minlength:"1",maxlength:"1",id:"code3"},null,34),(0,t.Lk)("input",{type:"number",onInput:l[7]||(l[7]=e=>y.inputHandle("4")),class:(0,d.C4)(["code form-control text-center rounded rounded-1",{"border-danger":y.invalidCode}]),min:"0",max:"9",minlength:"1",maxlength:"1",id:"code4"},null,34)]),(0,t.Lk)("ul",k,[y.invalidCode?((0,t.uX)(),(0,t.CE)("li",f,[...l[14]||(l[14]=[(0,t.eW)("کد وارد شده اشتباه است ",-1),(0,t.Lk)("button",{class:"btn-none",type:"reset"},"پاک کن",-1)])])):(0,t.Q3)("",!0)])],32),(0,t.Lk)("button",{class:"submit-btn bg-primary text-light",onClick:l[10]||(l[10]=(...e)=>y.checkCode&&y.checkCode(...e))},"ورود")])):((0,t.uX)(),(0,t.CE)("div",s,[l[12]||(l[12]=(0,t.Lk)("p",{class:"p-3 small"},"برای ورود به سایت، شماره موبایل خود را وارد کنید.",-1)),(0,t.Lk)("form",{class:"form-floating p-3",dir:"ltr",onSubmit:l[0]||(l[0]=(0,n.D$)((...e)=>y.validateMobile&&y.validateMobile(...e),["prevent"]))},[(0,t.Lk)("input",{type:"number",class:(0,d.C4)(["form-control en rounded rounded-1",{"is-invalid":y.invalidMobile}]),id:"mobile"},null,2),l[11]||(l[11]=(0,t.Lk)("label",{for:"mobile",class:"form-label text-end"},"شماره موبایل",-1))],32),(0,t.Lk)("ul",u,[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(y.errors,e=>((0,t.uX)(),(0,t.CE)("li",null,(0,d.v_)(e),1))),256))]),(0,t.Lk)("button",{class:"submit-btn bg-primary text-light",onClick:l[1]||(l[1]=(...e)=>y.validateMobile&&y.validateMobile(...e))},"دریافت کد تایید")]))])])])])}o(4114),o(8111),o(7588);var L=o(144),h={name:"Login",setup(){const e=(0,L.KR)(!1),l=(0,L.KR)(),o=(0,L.KR)(!1),n=(0,L.KR)([]);(0,t.sV)(()=>{document.querySelector("#mobile").focus()});const d=()=>{n.value=[];let e=document.querySelector("#mobile").value;document.querySelector("#mobile").classList?.remove("is-invalid"),e.startsWith("09")||n.value.push("شماره موبایل باید با 09 شروع شود"),11!==e.length&&n.value.push("شماره موبایل باید 11 رقم باشد"),n.value.length?document.querySelector("#mobile").classList.add("is-invalid"):(document.querySelector("#mobile").classList.add("is-valid"),l.value=!0,localStorage.setItem("mobile",e),i(e))},i=e=>{setTimeout(()=>{a()},200)},c=e=>{document.querySelector("#code"+e).classList.remove("is-invalid");let l=document.querySelector("#code"+e).value;if(l<0||l>9)document.querySelector("#code"+e).classList.add("is-invalid");else if(console.log(l),""!=l&&l<=9&&l>=0){let l=parseInt(e)+1;document.querySelector("#code"+l)?.focus()}let o=document.querySelector("#code1").value+document.querySelector("#code3").value+document.querySelector("#code3").value+document.querySelector("#code4").value;r(o)},r=e=>{4===e.length?"1111"===e?(o.value=!1,document.querySelectorAll(".code").forEach(e=>{e.classList.remove("is-invalid"),e.classList.add("is-valid")}),window.location="/profile"):o.value=!0:o.value=!1},a=()=>{console.log(document.querySelector("#code1")),document.querySelector("#code1").focus(),o.value=!1},s=(0,L.KR)(59);return{invalidMobile:e,validateMobile:d,errors:n,sendOtp:i,invalidCode:o,inputHandle:c,checkCode:r,focus1stInput:a,mobileValidated:l,time:s}}},g=o(1241);const C=(0,g.A)(h,[["render",y]]);var x=C}}]);
//# sourceMappingURL=login.d68c8ebe.js.map