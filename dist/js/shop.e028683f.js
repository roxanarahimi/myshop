"use strict";(self["webpackChunkmyshop"]=self["webpackChunkmyshop"]||[]).push([[883],{1571:function(e,t,c){c.d(t,{A:function(){return A}});var o=c(6768),s=c(4232);const l={key:0,class:"card w-100 mb-2",style:{"border-color":"#eeeeee !important","border-radius":"2px",cursor:"pointer"}},r={class:"card-body p-0 h-100"},a=["href"],n={class:"w-100 text-center",style:{position:"absolute",top:"50px",left:"0","z-index":"100"}},i={key:0,width:"100",class:"",src:"/img/sold.png"},u={class:"row p-1 mx-auto w-100 product-labels"},d={class:"col-6 p-0"},k={key:0,class:"text-center position-relative new-label"},p={class:"col-6 p-0",dir:"ltr"},m={key:0,class:"text-center position-relative off-label"},f={class:"bg-primary text-light text-center off-label-body"},g={class:"text-center"},h={class:"fw-bold titles-font-size"},b={class:"titles-font-size"},v={key:0,class:"d-flex justify-content-center"},y={key:0,class:"titles-font-size text-black-50 text-decoration-line-through ms-2"},L={class:"titles-font-size text-primary"},x={key:1,class:"d-flex justify-content-center"},P={style:{height:"35px",display:"grid"}},C={key:0,class:"add-to-cart-2 bg-primary"};function w(e,t,c,w,E,X){const j=(0,o.g2)("lazy-image");return c.product?((0,o.uX)(),(0,o.CE)("div",l,[(0,o.Lk)("div",r,[(0,o.Lk)("a",{href:"/product/"+c.product.slug,class:"w-100"},[(0,o.Lk)("div",n,[0===c.product.stock?((0,o.uX)(),(0,o.CE)("img",i)):(0,o.Q3)("",!0)]),(0,o.Lk)("div",{class:(0,s.C4)({"gray-scale":0===c.product.stock})},[(0,o.Lk)("div",u,[(0,o.Lk)("div",d,[1==c.product.new&&c.product.stock>0?((0,o.uX)(),(0,o.CE)("div",k,[...t[0]||(t[0]=[(0,o.Lk)("div",{class:"bg-success text-light text-center new-label-body justify-content-end"},"جدید",-1),(0,o.Lk)("div",{class:"bg-success mx-auto new-label-pointer"},null,-1)])])):(0,o.Q3)("",!0)]),(0,o.Lk)("div",p,[c.product.off>0&&c.product.stock>0?((0,o.uX)(),(0,o.CE)("div",m,[(0,o.Lk)("div",f,(0,s.v_)(c.product.off)+"%",1),t[1]||(t[1]=(0,o.Lk)("div",{class:"bg-primary mx-auto off-label-pointer"},null,-1))])):(0,o.Q3)("",!0)])]),c.product.id?((0,o.uX)(),(0,o.Wv)(j,{key:0,data:{image:c.url+c.product?.images[0],title:c.product.title}},null,8,["data"])):(0,o.Q3)("",!0),(0,o.Lk)("div",g,[(0,o.Lk)("small",h,(0,s.v_)(c.product.title),1),t[3]||(t[3]=(0,o.Lk)("br",null,null,-1)),(0,o.Lk)("small",b,"محصول کشور "+(0,s.v_)(c.product.made_in),1),t[4]||(t[4]=(0,o.Lk)("br",null,null,-1)),c.product.stock>0?((0,o.uX)(),(0,o.CE)("div",v,[c.product.off>0?((0,o.uX)(),(0,o.CE)("b",y,(0,s.v_)(w.price),1)):(0,o.Q3)("",!0),(0,o.Lk)("b",L,(0,s.v_)(w.offPrice)+" تومان",1)])):((0,o.uX)(),(0,o.CE)("div",x,[...t[2]||(t[2]=[(0,o.Lk)("b",{class:"titles-font-size text-primary"},"ناموجود",-1)])]))])],2)],8,a),(0,o.Lk)("div",P,[c.product.stock?((0,o.uX)(),(0,o.CE)("button",C,[...t[5]||(t[5]=[(0,o.Lk)("i",{class:"bi bi-cart-plus-fill"},null,-1)])])):(0,o.Q3)("",!0)])])])):(0,o.Q3)("",!0)}var E=c(9886),X={name:"ProductCard",props:["product","index","url"],components:{LazyImage:E.A},setup(e){const t=e=>(new Intl.NumberFormat).format(e),c=t(e.product.price),o=t(e.product.price-e.product.price*e.product.off*.01);return{price:c,offPrice:o,showNumbers:t}}},j=c(1241);const _=(0,j.A)(X,[["render",w]]);var A=_},4569:function(e,t,c){c.r(t),c.d(t,{default:function(){return _}});var o=c(6768),s=c(5130),l=c(4232);const r={class:"row"},a={class:"col-lg-10 px-4 mx-auto d-flex justify-content-xl-between p-3 ps-2 pb-5"},n={class:"pt-2 shop-sidebar"},i={class:"w-100 mb-2 p-3 text-center bg-white-smoke"},u={class:"w-100 mb-2 p-3 text-center bg-white-smoke"},d={class:"w-100 mb-2 p-3 bg-white-smoke"},k={class:"form-check d-flex justify-content-start"},p={class:"w-100 mb-2 p-3 bg-white-smoke"},m={class:"form-check d-flex justify-content-start"},f={key:0,class:"w-100 mb-2 p-3 bg-white-smoke"},g={class:"form-check d-flex justify-content-start"},h=["value","id"],b=["for"],v={class:"w-100 mb-2 p-3 bg-white-smoke"},y={class:"mt-2 px-3 shop-products",style:{}},L={key:0,class:"row"};function x(e,t,c,x,P,C){const w=(0,o.g2)("product-card");return(0,o.uX)(),(0,o.CE)("div",r,[(0,o.Lk)("div",a,[(0,o.Lk)("div",n,[(0,o.Lk)("div",i,[(0,o.bo)((0,o.Lk)("input",{type:"text",id:"search",onInput:t[0]||(t[0]=(...e)=>x.getProducts&&x.getProducts(...e)),"onUpdate:modelValue":t[1]||(t[1]=e=>x.term=e),class:"form-control form-control-sm",placeholder:"جستجوی محصول"},null,544),[[s.Jo,x.term]])]),(0,o.Lk)("div",u,[(0,o.Lk)("button",{class:"btn btn-sm w-100 btn-primary text-light",onClick:t[2]||(t[2]=(...e)=>x.reset&&x.reset(...e))},"حذف فیلتر ها")]),(0,o.Lk)("div",d,[(0,o.Lk)("div",k,[(0,o.bo)((0,o.Lk)("input",{class:"form-check-input",type:"checkbox",name:"stock",onChange:t[3]||(t[3]=(...e)=>x.getProducts&&x.getProducts(...e)),"onUpdate:modelValue":t[4]||(t[4]=e=>x.stock=e),id:"exist"},null,544),[[s.lH,x.stock]]),t[22]||(t[22]=(0,o.Lk)("label",{class:"form-check-label me-4",for:"exist"},"کالاهای موجود",-1))])]),(0,o.Lk)("div",p,[(0,o.Lk)("div",m,[(0,o.bo)((0,o.Lk)("input",{class:"form-check-input",type:"checkbox",onChange:t[5]||(t[5]=(...e)=>x.getProducts&&x.getProducts(...e)),"onUpdate:modelValue":t[6]||(t[6]=e=>x.off=e),id:"off"},null,544),[[s.lH,x.off]]),t[23]||(t[23]=(0,o.Lk)("label",{class:"form-check-label me-4",for:"off"},"شامل تخفیف",-1))])]),x.categories.length?((0,o.uX)(),(0,o.CE)("div",f,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(x.categories,e=>((0,o.uX)(),(0,o.CE)("div",g,[(0,o.Lk)("input",{class:"form-check-input",name:"category_ids[]",value:e.id,onChange:t[7]||(t[7]=(...e)=>x.getProducts&&x.getProducts(...e)),type:"checkbox",id:"cat-"+e.id},null,40,h),(0,o.Lk)("label",{class:"form-check-label me-4",for:"cat-"+e.id},(0,l.v_)(e.title),9,b)]))),256))])):(0,o.Q3)("",!0),(0,o.Lk)("div",v,[(0,o.Lk)("div",{onClick:t[9]||(t[9]=(...e)=>x.getProducts&&x.getProducts(...e)),class:"form-check d-flex justify-content-start"},[(0,o.Lk)("input",{class:"form-check-input",type:"radio",onChange:t[8]||(t[8]=(...e)=>x.getProducts&&x.getProducts(...e)),name:"brand",value:"شیگلم",id:"sheeglam"},null,32),t[24]||(t[24]=(0,o.Lk)("label",{class:"form-check-label me-4",for:"sheeglam",title:"sheeglam"},"شیگلم",-1))]),(0,o.Lk)("div",{onClick:t[11]||(t[11]=(...e)=>x.getProducts&&x.getProducts(...e)),class:"form-check d-flex justify-content-start"},[(0,o.Lk)("input",{class:"form-check-input",type:"radio",onChange:t[10]||(t[10]=(...e)=>x.getProducts&&x.getProducts(...e)),name:"brand",value:"اوردینری",id:"ordinary"},null,32),t[25]||(t[25]=(0,o.Lk)("label",{class:"form-check-label me-4",for:"ordinary",title:"ordinary"},"اوردینری",-1))]),(0,o.Lk)("div",{onClick:t[13]||(t[13]=(...e)=>x.getProducts&&x.getProducts(...e)),class:"form-check d-flex justify-content-start"},[(0,o.Lk)("input",{class:"form-check-input",type:"radio",onChange:t[12]||(t[12]=(...e)=>x.getProducts&&x.getProducts(...e)),name:"brand",value:"کوزارکس",id:"cosrx"},null,32),t[26]||(t[26]=(0,o.Lk)("label",{class:"form-check-label me-4",for:"cosrx",title:"cosrx"},"کوزارکس",-1))]),(0,o.Lk)("div",{onClick:t[15]||(t[15]=(...e)=>x.getProducts&&x.getProducts(...e)),class:"form-check d-flex justify-content-start"},[(0,o.Lk)("input",{class:"form-check-input",type:"radio",onChange:t[14]||(t[14]=(...e)=>x.getProducts&&x.getProducts(...e)),name:"brand",value:"فیتو",id:"phyto"},null,32),t[27]||(t[27]=(0,o.Lk)("label",{class:"form-check-label me-4",for:"phyto",title:"phyto"},"فیتو",-1))]),(0,o.Lk)("div",{onClick:t[17]||(t[17]=(...e)=>x.getProducts&&x.getProducts(...e)),class:"form-check d-flex justify-content-start"},[(0,o.Lk)("input",{class:"form-check-input",type:"radio",onChange:t[16]||(t[16]=(...e)=>x.getProducts&&x.getProducts(...e)),name:"brand",value:"هیرتامین",id:"hairtamin"},null,32),t[28]||(t[28]=(0,o.Lk)("label",{class:"form-check-label me-4",for:"hairtamin",title:"hairtamin"},"هیرتامین",-1))]),(0,o.Lk)("div",{onClick:t[19]||(t[19]=(...e)=>x.getProducts&&x.getProducts(...e)),class:"form-check d-flex justify-content-start"},[(0,o.Lk)("input",{class:"form-check-input",type:"radio",onChange:t[18]||(t[18]=(...e)=>x.getProducts&&x.getProducts(...e)),name:"brand",value:"مای ویتامینز",id:"myvitamins"},null,32),t[29]||(t[29]=(0,o.Lk)("label",{class:"form-check-label me-4",for:"myvitamins",title:"myvitamins"},"مای ویتامینز",-1))]),t[31]||(t[31]=(0,o.eW)()),(0,o.Lk)("div",{onClick:t[21]||(t[21]=(...e)=>x.getProducts&&x.getProducts(...e)),class:"form-check d-flex justify-content-start"},[(0,o.Lk)("input",{class:"form-check-input",type:"radio",onChange:t[20]||(t[20]=(...e)=>x.getProducts&&x.getProducts(...e)),name:"brand",value:"بایودنس",id:"biodance"},null,32),t[30]||(t[30]=(0,o.Lk)("label",{class:"form-check-label me-4",for:"biodance",title:"biodance"},"بایودنس",-1))])])]),(0,o.Lk)("div",y,[x.products?.length?((0,o.uX)(),(0,o.CE)("div",L,[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(x.products,(e,t)=>((0,o.uX)(),(0,o.CE)("div",{class:"col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2 h-100 px-1",key:t},[(0,o.bF)(w,{product:e,index:t,url:x.imgUrl},null,8,["product","index","url"])]))),128))])):(0,o.Q3)("",!0)])])])}c(8111),c(7588),c(1701);var P=c(1571),C=c(144),w=c(9494),E={name:"Shop",components:{ProductCard:P.A},setup(){const e=(0,C.KR)([]),t=(0,C.KR)(),c=w.A.setup().url,s=w.A.setup().imgUrl,l=()=>{axios.get(c+"/api/categories").then(t=>{e.value=t.data}).catch(e=>{console.error(e)})},r=(0,C.KR)([]),a=(0,C.KR)(!1),n=(0,C.KR)(!1),i=(0,C.KR)(!1),u=(0,C.KR)("new"),d=(0,C.KR)(""),k=(0,C.KR)(""),p=()=>{setTimeout(()=>{r.value=Array.from(document.querySelectorAll('input[name="category_ids[]"]:checked')).map(e=>e.value),k.value=document.querySelector('input[name="brand"]:checked')?.value||"",axios.get(c+"/api/products?category_ids="+r.value+"&stock="+a.value+"&new="+n.value+"&off="+i.value+"&sort="+u.value+"&term="+d.value+"&brand="+k.value).then(e=>{t.value=e.data}).catch(e=>{console.error(e)})},300)};(0,o.sV)(()=>{document.querySelector("#search")?.focus(),l(),p()});const m=()=>{document.querySelectorAll('input[type="checkbox"]:checked').forEach(e=>e.checked=!1),document.querySelectorAll('input[type="radio"]:checked').forEach(e=>e.checked=!1),p()};return{term:d,products:t,categories:e,getProducts:p,getCategories:l,url:c,imgUrl:s,category_ids:r,stock:a,is_new:n,off:i,sort:u,reset:m,brand:k}}},X=c(1241);const j=(0,X.A)(E,[["render",x]]);var _=j}}]);
//# sourceMappingURL=shop.e028683f.js.map