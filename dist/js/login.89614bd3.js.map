{"version":3,"file":"js/login.89614bd3.js","mappings":"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","sources":["webpack://shop3/./src/views/Login.vue","webpack://shop3/./src/views/Login.vue?240b"],"sourcesContent":["<template>\r\n  <div class=\"row p-0 m-0 w-100 d-grid\" style=\"min-height: 500px !important\">\r\n    <div class=\"col-10 col-lg-3 p-0 align-self-center mx-auto\">\r\n      <div class=\"card w-100\" style=\"border-color: #eeeeee !important; border-radius: 2px;\">\r\n        <div class=\"card-body p-0\">\r\n          <div v-if=\"!mobileValidated\" class=\"mobile-form\">\r\n            <p class=\"p-3 small\">برای ورود یا عضویت در سایت، شماره موبایل خود را وارد کنید.</p>\r\n            <form class=\"form-floating p-3\" dir=\"ltr\" @submit.prevent=\"validateMobile\">\r\n              <input type=\"number\" class=\"form-control en rounded rounded-1\" :class=\"{'is-invalid': invalidMobile}\"\r\n                     id=\"mobile\">\r\n              <label for=\"mobile\" class=\"form-label text-end\">شماره موبایل</label>\r\n\r\n            </form>\r\n            <ul class=\"small invalid-feedback d-block\">\r\n              <li v-for=\"error in errors\">{{ error }}</li>\r\n            </ul>\r\n            <button class=\"submit-btn bg-primary text-light\" @click=\"validateMobile\">دریافت کد تایید</button>\r\n          </div>\r\n          <div v-else id=\"verify-mobile\">\r\n            <p class=\"p-3 small\">کد تایید 4 رقمی برای شما پیامک شد. لطفا کد را وارد کنید.</p>\r\n            <div class=\"col-12 d-flex justify-content-between px-3 \">\r\n              <small disabled id=\"resend\" @click=\"resend\" class=\"text-black-50\">ارسال مجدد کد\r\n                <span id=\"time\">{{ time }}</span>\r\n              </small>\r\n              <small @click=\"editNumber\" class=\"text-black-50 cursor\">ویرایش شماره</small>\r\n            </div>\r\n\r\n            <form class=\"p-3\" dir=\"ltr\" @reset=\"focus1stInput\" @submit.prevent=\"checkCode\">\r\n              <div class=\"d-flex\">\r\n                <input type=\"number\" @input=\"inputHandle('1')\" class=\"code me-2 form-control text-center rounded rounded-1\" min=\"0\" max=\"9\" minlength=\"1\" maxlength=\"1\" :class=\"{'border-danger': invalidCode}\" id=\"code1\">\r\n                <input type=\"number\" @input=\"inputHandle('2')\" class=\"code me-2 form-control text-center rounded rounded-1\" min=\"0\" max=\"9\" minlength=\"1\" maxlength=\"1\" :class=\"{'border-danger': invalidCode}\" id=\"code2\">\r\n                <input type=\"number\" @input=\"inputHandle('3')\" class=\"code me-2 form-control text-center rounded rounded-1\" min=\"0\" max=\"9\" minlength=\"1\" maxlength=\"1\" :class=\"{'border-danger': invalidCode}\" id=\"code3\">\r\n                <input type=\"number\" @input=\"inputHandle('4')\" class=\"code form-control text-center rounded rounded-1\"  min=\"0\" max=\"9\" minlength=\"1\" maxlength=\"1\" :class=\"{'border-danger': invalidCode}\" id=\"code4\">\r\n              </div>\r\n              <ul class=\"small invalid-feedback d-block\" dir=\"rtl\">\r\n                <li v-if=\"invalidCode\">کد وارد شده اشتباه است\r\n                  <button class=\"btn-none\" type=\"reset\">پاک کن</button>\r\n                </li>\r\n              </ul>\r\n            </form>\r\n\r\n            <button class=\"submit-btn bg-primary text-light\" @click=\"checkCode\">ورود</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {onMounted, ref} from \"vue\";\r\n\r\nexport default {\r\n  name: \"Login\",\r\n  setup() {\r\n    const invalidMobile = ref(false);\r\n    const mobileValidated = ref();\r\n    const invalidCode = ref(false);\r\n    const errors = ref([]);\r\n    onMounted(()=>{\r\n      document.querySelector('#mobile').focus();\r\n    })\r\n    const validateMobile = () => {\r\n      errors.value = [];\r\n      let mobile = document.querySelector('#mobile').value;\r\n      document.querySelector('#mobile').classList?.remove('is-invalid');\r\n\r\n      if (!mobile.startsWith('09')) {\r\n        errors.value.push('شماره موبایل باید با 09 شروع شود')\r\n      }\r\n      if (mobile.length !== 11) {\r\n        errors.value.push('شماره موبایل باید 11 رقم باشد')\r\n      }\r\n      if (errors.value.length) {\r\n        document.querySelector('#mobile').classList.add('is-invalid');\r\n      } else {\r\n        document.querySelector('#mobile').classList.add('is-valid');\r\n        mobileValidated.value = true;\r\n        localStorage.setItem('mobile',mobile);\r\n        //send otp\r\n        sendOtp(mobile);\r\n      }\r\n    }\r\n    const sendOtp = (mobile) => {\r\n      // api\r\n      // if response code is 200:\r\n\r\n      setTimeout(()=>{\r\n        focus1stInput();\r\n      },200)\r\n    }\r\n    const inputHandle = (id)=>{\r\n      document.querySelector('#code'+id).classList.remove('is-invalid');\r\n      let value = document.querySelector('#code'+id).value;\r\n      if (value<0 || value>9){\r\n        document.querySelector('#code'+id).classList.add('is-invalid');\r\n      }else{\r\n        console.log(value);\r\n        if (value != '' && value <=9 && value >= 0 ){\r\n          let n = parseInt(id)+1\r\n          document.querySelector('#code'+n)?.focus();\r\n        }\r\n\r\n      }\r\n      let code = document.querySelector('#code1').value +  document.querySelector('#code3').value+document.querySelector('#code3').value+document.querySelector('#code4').value;\r\n      checkCode(code);\r\n    }\r\n    const checkCode = (code)=>{\r\n      if (code.length === 4){\r\n        if(code === '1111'){\r\n          invalidCode.value = false;\r\n          document.querySelectorAll('.code').forEach((element)=>{\r\n            element.classList.remove('is-invalid');\r\n            element.classList.add('is-valid');\r\n          });\r\n          //login\r\n          window.location = '/profile';\r\n        }else{\r\n          invalidCode.value = true;\r\n        }\r\n      }else{\r\n        invalidCode.value = false;\r\n      }\r\n    }\r\n    const focus1stInput = ()=>\r\n    {\r\n      console.log(document.querySelector('#code1'))\r\n      document.querySelector('#code1').focus();\r\n      invalidCode.value = false;\r\n\r\n    }\r\n    const time = ref(59);\r\n\r\n    return {\r\n      invalidMobile, validateMobile, errors, sendOtp, invalidCode,\r\n      inputHandle, checkCode,focus1stInput,mobileValidated,\r\n      time,\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import { render } from \"./Login.vue?vue&type=template&id=6153c922\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","style","_createElementVNode","for","id","dir","type","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","$setup","mobileValidated","_hoisted_9","_hoisted_10","_hoisted_11","disabled","onClick","_cache","args","_ctx","resend","_hoisted_12","_toDisplayString","time","editNumber","onReset","focus1stInput","onSubmit","_withModifiers","checkCode","_hoisted_13","onInput","$event","inputHandle","_normalizeClass","invalidCode","min","max","minlength","maxlength","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_5","_hoisted_6","validateMobile","invalidMobile","_hoisted_7","_hoisted_8","_Fragment","_renderList","errors","error","name","setup","ref","onMounted","document","querySelector","focus","value","mobile","classList","remove","startsWith","push","length","add","localStorage","setItem","sendOtp","setTimeout","console","log","n","parseInt","code","querySelectorAll","forEach","element","window","location","__exports__","render"],"sourceRoot":""}