"use strict";(self["webpackChunkmyshop"]=self["webpackChunkmyshop"]||[]).push([[883,964],{3031:function(e,t,s){s.r(t),s.d(t,{default:function(){return _}});var l=s(6768),c=s(5130),o=s(4232);const r={class:"row"},a={class:"col-lg-10 px-4 mx-auto d-flex justify-content-xl-between p-3 ps-2 pb-5"},u={class:"pt-2 shop-sidebar"},d={class:"w-100 mb-3 p-3 text-center bg-white-smoke"},i={class:"w-100 mb-3 p-3 text-center bg-white-smoke"},n={class:"w-100 mb-3 p-3 bg-white-smoke"},p={class:"form-check d-flex justify-content-start"},m={class:"w-100 mb-3 p-3 bg-white-smoke"},k={class:"form-check d-flex justify-content-start"},v={key:0,class:"w-100 mb-3 p-3 bg-white-smoke"},f={class:"form-check d-flex justify-content-start"},b=["value","id"],g=["for"],x={class:"mt-2 px-3 shop-products",style:{}},y={key:0,class:"row"};function h(e,t,s,h,L,w){const C=(0,l.g2)("product-card");return(0,l.uX)(),(0,l.CE)("div",r,[(0,l.Lk)("div",a,[(0,l.Lk)("div",u,[(0,l.Lk)("div",d,[(0,l.bo)((0,l.Lk)("input",{type:"text",id:"search",onInput:t[0]||(t[0]=(...e)=>h.getProducts&&h.getProducts(...e)),"onUpdate:modelValue":t[1]||(t[1]=e=>h.term=e),class:"form-control form-control-sm",placeholder:"جستجوی محصول"},null,544),[[c.Jo,h.term]])]),(0,l.Lk)("div",i,[(0,l.Lk)("button",{class:"btn btn-sm w-100 btn-primary text-light",onClick:t[2]||(t[2]=(...e)=>h.reset&&h.reset(...e))},"حذف فیلتر ها")]),(0,l.Lk)("div",n,[(0,l.Lk)("div",p,[(0,l.bo)((0,l.Lk)("input",{class:"form-check-input",type:"checkbox",name:"stock",onChange:t[3]||(t[3]=(...e)=>h.getProducts&&h.getProducts(...e)),"onUpdate:modelValue":t[4]||(t[4]=e=>h.stock=e),id:"exist"},null,544),[[c.lH,h.stock]]),t[8]||(t[8]=(0,l.Lk)("label",{class:"form-check-label me-4",for:"exist"},"کالاهای موجود",-1))])]),(0,l.Lk)("div",m,[(0,l.Lk)("div",k,[(0,l.bo)((0,l.Lk)("input",{class:"form-check-input",type:"checkbox",onChange:t[5]||(t[5]=(...e)=>h.getProducts&&h.getProducts(...e)),"onUpdate:modelValue":t[6]||(t[6]=e=>h.off=e),id:"off"},null,544),[[c.lH,h.off]]),t[9]||(t[9]=(0,l.Lk)("label",{class:"form-check-label me-4",for:"off"},"شامل تخفیف",-1))])]),h.categories.length?((0,l.uX)(),(0,l.CE)("div",v,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(h.categories,e=>((0,l.uX)(),(0,l.CE)("div",f,[(0,l.Lk)("input",{class:"form-check-input",name:"category_ids[]",value:e.id,onChange:t[7]||(t[7]=(...e)=>h.getProducts&&h.getProducts(...e)),type:"checkbox",id:"cat-"+e.id},null,40,b),(0,l.Lk)("label",{class:"form-check-label me-4",for:"cat-"+e.id},(0,o.v_)(e.title),9,g)]))),256))])):(0,l.Q3)("",!0)]),(0,l.Lk)("div",x,[h.products?.length?((0,l.uX)(),(0,l.CE)("div",y,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(h.products,(e,t)=>((0,l.uX)(),(0,l.CE)("div",{class:"col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2 h-100 px-1",key:t},[(0,l.bF)(C,{product:e,index:t,url:h.imgUrl},null,8,["product","index","url"])]))),128))])):(0,l.Q3)("",!0)])])])}s(8111),s(7588),s(1701);var L=s(5260),w=s(144),C=s(2568),E={name:"Shop",components:{ProductCard:L.A},setup(){const e=(0,w.KR)([]),t=(0,w.KR)(),s=C.A.setup().url,c=C.A.setup().imgUrl,o=()=>{axios.get(s+"/api/categories").then(t=>{e.value=t.data}).catch(e=>{console.error(e)})},r=(0,w.KR)([]),a=(0,w.KR)(!1),u=(0,w.KR)(!1),d=(0,w.KR)(!1),i=(0,w.KR)("new"),n=(0,w.KR)(""),p=()=>{setTimeout(()=>{r.value=Array.from(document.querySelectorAll('input[name="category_ids[]"]:checked')).map(e=>e.value),axios.get(s+"/api/products?category_ids="+r.value+"&stock="+a.value+"&new="+u.value+"&off="+d.value+"&sort="+i.value+"&term="+n.value).then(e=>{t.value=e.data}).catch(e=>{console.error(e)})},300)};(0,l.sV)(()=>{document.querySelector("#search")?.focus(),o(),p()});const m=()=>{document.querySelectorAll('input[type="checkbox"]:checked').forEach(e=>e.checked=!1),p()};return{term:n,products:t,categories:e,getProducts:p,getCategories:o,url:s,imgUrl:c,category_ids:r,stock:a,is_new:u,off:d,sort:i,reset:m}}},X=s(1241);const P=(0,X.A)(E,[["render",h]]);var _=P},5260:function(e,t,s){s.d(t,{A:function(){return A}});var l=s(6768),c=s(4232);const o={key:0,class:"card w-100 mb-2",style:{"border-color":"#eeeeee !important","border-radius":"2px",cursor:"pointer"}},r={class:"card-body p-0 h-100"},a=["href"],u={class:"w-100 text-center",style:{position:"absolute",top:"50px",left:"0","z-index":"100"}},d={key:0,width:"100",class:"",src:"/img/sold.png"},i={class:"row p-1 mx-auto w-100 product-labels"},n={class:"col-6 p-0"},p={key:0,class:"text-center position-relative new-label"},m={class:"col-6 p-0",dir:"ltr"},k={key:0,class:"text-center position-relative off-label"},v={class:"bg-primary text-light text-center off-label-body"},f={class:"text-center"},b={class:"fw-bold titles-font-size"},g={class:"titles-font-size"},x={key:0,class:"d-flex justify-content-center"},y={key:0,class:"titles-font-size text-black-50 text-decoration-line-through ms-2"},h={class:"titles-font-size text-primary"},L={key:1,class:"d-flex justify-content-center"},w={style:{height:"35px",display:"grid"}},C={key:0,class:"add-to-cart-2 bg-primary"};function E(e,t,s,E,X,P){const _=(0,l.g2)("lazy-image");return s.product?((0,l.uX)(),(0,l.CE)("div",o,[(0,l.Lk)("div",r,[(0,l.Lk)("a",{href:"/product/"+s.product.slug,class:"w-100"},[(0,l.Lk)("div",u,[0===s.product.stock?((0,l.uX)(),(0,l.CE)("img",d)):(0,l.Q3)("",!0)]),(0,l.Lk)("div",{class:(0,c.C4)({"gray-scale":0===s.product.stock})},[(0,l.Lk)("div",i,[(0,l.Lk)("div",n,[s.product.new?((0,l.uX)(),(0,l.CE)("div",p,[...t[0]||(t[0]=[(0,l.Lk)("div",{class:"bg-success text-light text-center new-label-body justify-content-end"},"جدید",-1),(0,l.Lk)("div",{class:"bg-success mx-auto new-label-pointer"},null,-1)])])):(0,l.Q3)("",!0)]),(0,l.Lk)("div",m,[s.product.off&&s.product.stock?((0,l.uX)(),(0,l.CE)("div",k,[(0,l.Lk)("div",v,(0,c.v_)(s.product.off)+"%",1),t[1]||(t[1]=(0,l.Lk)("div",{class:"bg-primary mx-auto off-label-pointer"},null,-1))])):(0,l.Q3)("",!0)])]),s.product.id?((0,l.uX)(),(0,l.Wv)(_,{key:0,data:{image:s.url+s.product?.images[0],title:s.product.title}},null,8,["data"])):(0,l.Q3)("",!0),(0,l.Lk)("div",f,[(0,l.Lk)("small",b,(0,c.v_)(s.product.title),1),t[3]||(t[3]=(0,l.Lk)("br",null,null,-1)),(0,l.Lk)("small",g,"محصول کشور "+(0,c.v_)(s.product.made_in),1),t[4]||(t[4]=(0,l.Lk)("br",null,null,-1)),s.product.stock>0?((0,l.uX)(),(0,l.CE)("div",x,[s.product.off?((0,l.uX)(),(0,l.CE)("b",y,(0,c.v_)(E.price),1)):(0,l.Q3)("",!0),(0,l.Lk)("b",h,(0,c.v_)(E.offPrice)+" تومان",1)])):((0,l.uX)(),(0,l.CE)("div",L,[...t[2]||(t[2]=[(0,l.Lk)("b",{class:"titles-font-size text-primary"},"ناموجود",-1)])]))])],2)],8,a),(0,l.Lk)("div",w,[s.product.stock?((0,l.uX)(),(0,l.CE)("button",C,[...t[5]||(t[5]=[(0,l.Lk)("i",{class:"bi bi-cart-plus-fill"},null,-1)])])):(0,l.Q3)("",!0)])])])):(0,l.Q3)("",!0)}var X=s(896),P={name:"ProductCard",props:["product","index","url"],components:{LazyImage:X.A},setup(e){const t=e=>(new Intl.NumberFormat).format(e),s=t(e.product.price),l=t(e.product.price-e.product.price*e.product.off*.01);return{price:s,offPrice:l,showNumbers:t}}},_=s(1241);const K=(0,_.A)(P,[["render",E]]);var A=K},7491:function(e,t,s){s.r(t),s.d(t,{default:function(){return ee}});var l=s(6768),c=s(4232),o=s(5130);const r={class:""},a={class:"row px-4"},u={class:"row col-xl-10 px-3 px-md-2 py-3 px-lg-4 py-lg-3 mx-auto p-2 bg-light mt-2 mt-md-5 justify-content-center"},d={class:"col-md-10 col-xl-10 col-xxl-8 row p-1 mx-auto product-labels mb-2"},i={class:"col-6 p-0"},n={key:0,class:"text-center position-relative new-label"},p={class:"col-6 p-0",dir:"ltr"},m={key:0,class:"text-center position-relative off-label"},k={class:"bg-primary text-light text-center off-label-body"},v={class:"col-md-4 col-xl-5 col-xxl-5 d-grid h-md-100 bg-white ms-md-1",style:{"border-radius":"2px"}},f={class:"col-md-6 col-xl-5 col-xxl-5 h-md-100 bg-white px-0 me-md-1"},b={key:0,class:"details h-100 d-grid",style:{"border-radius":"2px"}},g={class:"details-inner p-0 d-grid"},x={class:"p-3 p-md-5 d-grid"},y={class:""},h={class:"mb-3"},L=["value"],w={key:0,class:"d-flex"},C={key:0,class:"text-black-50 text-decoration-line-through ms-2"},E={class:"text-primary"},X={key:1,class:"d-flex"},P={class:"my-4 align-self-center"},_={class:"mb-0"},K={class:"position-relative align-self-end"},A={class:"row col-xl-10 mx-auto py-3 px-0"},Q={class:"col-12 mt-5 px-3 px-md-0 py-0"},R={style:{"text-align":"justify"}},j={class:"col-12 px-0 row justify-content-end"},I={class:"row col-md-10 px-0",dir:"ltr"};function F(e,t,s,F,U,z){const S=(0,l.g2)("product-images-carousel"),q=(0,l.g2)("product-card");return(0,l.uX)(),(0,l.CE)("div",r,[(0,l.Lk)("div",a,[(0,l.Lk)("div",u,[(0,l.Lk)("div",d,[(0,l.Lk)("div",i,[F.product?.new?((0,l.uX)(),(0,l.CE)("div",n,[...t[3]||(t[3]=[(0,l.Lk)("div",{class:"bg-success text-light text-center new-label-body justify-content-end"},"جدید",-1),(0,l.Lk)("div",{class:"bg-success mx-auto new-label-pointer"},null,-1)])])):(0,l.Q3)("",!0)]),(0,l.Lk)("div",p,[F.product?.off&&F.product?.stock?((0,l.uX)(),(0,l.CE)("div",m,[(0,l.Lk)("div",k,(0,c.v_)(F.product?.off)+"%",1),t[4]||(t[4]=(0,l.Lk)("div",{class:"bg-primary mx-auto off-label-pointer"},null,-1))])):(0,l.Q3)("",!0)])]),(0,l.Lk)("div",v,[F.product?.id?((0,l.uX)(),(0,l.Wv)(S,{key:0,images:F.product.images,url:F.imgUrl},null,8,["images","url"])):(0,l.Q3)("",!0)]),(0,l.Lk)("div",f,[F.product.id?((0,l.uX)(),(0,l.CE)("div",b,[(0,l.Lk)("div",g,[(0,l.Lk)("div",x,[(0,l.Lk)("h3",y,(0,c.v_)(F.product?.title),1),(0,l.Lk)("h6",h,(0,c.v_)(F.product?.subtitle),1),(0,l.bo)((0,l.Lk)("select",{class:"form-select rounded-0 mb-3","onUpdate:modelValue":t[0]||(t[0]=e=>F.selectedProduct=e),onChange:t[1]||(t[1]=(...e)=>F.setPrice&&F.setPrice(...e))},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(F.product.products,(e,t)=>((0,l.uX)(),(0,l.CE)("option",{value:e,key:t},(0,c.v_)(e.size),9,L))),128))],544),[[o.u1,F.selectedProduct]]),F.product?.stock?((0,l.uX)(),(0,l.CE)("div",w,[F.product?.off?((0,l.uX)(),(0,l.CE)("h5",C,(0,c.v_)(F.price),1)):(0,l.Q3)("",!0),(0,l.Lk)("h5",E,(0,c.v_)(F.offPrice)+" تومان",1)])):((0,l.uX)(),(0,l.CE)("div",X,[...t[5]||(t[5]=[(0,l.Lk)("h5",{class:"text-primary"},"ناموجود",-1)])])),(0,l.Lk)("div",P,[t[6]||(t[6]=(0,l.Lk)("p",{class:"mb-0"},"اورجینال",-1)),(0,l.Lk)("p",_,"محصول کشور "+(0,c.v_)(F.product?.made_in),1)]),t[7]||(t[7]=(0,l.Lk)("div",{class:"align-self-end d-flex justify-content-end"},[(0,l.Lk)("button",{class:"btn btn-sm btn-dark text-light"},"+"),(0,l.Lk)("input",{type:"number",min:"0",max:"100",value:"1",class:"form-control form-control-sm rounded-0 d-inline-block text-center",style:{width:"40px"}}),(0,l.Lk)("button",{class:"btn btn-sm btn-dark text-light"},"-")],-1))])]),(0,l.Lk)("div",K,[t[9]||(t[9]=(0,l.Lk)("div",{class:"notif d-none"},[(0,l.Lk)("i",{class:"bi bi-check-lg"}),(0,l.eW)(" این محصول در سبد شما قرار گرفت. ")],-1)),F.product.stock?((0,l.uX)(),(0,l.CE)("button",{key:0,onClick:t[2]||(t[2]=(...e)=>F.addToCart&&F.addToCart(...e)),class:"add-to-cart-3 bg-primary"},[...t[8]||(t[8]=[(0,l.Lk)("i",{class:"bi bi-cart-plus-fill"},null,-1)])])):(0,l.Q3)("",!0)])])):(0,l.Q3)("",!0)])]),(0,l.Lk)("div",A,[(0,l.Lk)("div",Q,[(0,l.Lk)("p",R,(0,c.v_)(F.product?.text),1)]),t[10]||(t[10]=(0,l.Lk)("h3",{class:"mt-5"},"محصولات مشابه",-1)),(0,l.Lk)("div",j,[(0,l.Lk)("div",I,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(F.product?.sames,(e,t)=>((0,l.uX)(),(0,l.CE)("div",{class:"col-6 col-md-2 p-0 pe-1",key:t,dir:"rtl"},[(0,l.bF)(q,{product:e,index:t,url:F.imgUrl},null,8,["product","index","url"])]))),128))])])])])])}s(8111),s(2489);var U=s(144),z=s(3031),S=s(8512),q=s(5260),T=s(896),V=s(2568);const N={key:0},W=["src"],H={key:1,id:"carouselExample",class:"carousel carousel-dark slide"},D={class:"carousel-inner"},J=["src"];function M(e,t,s,o,r,a){return(0,l.uX)(),(0,l.CE)(l.FK,null,[1===s.images.length?((0,l.uX)(),(0,l.CE)("div",N,[(0,l.Lk)("img",{src:s.url+s.images[0],class:"d-block w-100",alt:"..."},null,8,W)])):(0,l.Q3)("",!0),s.images.length>1?((0,l.uX)(),(0,l.CE)("div",H,[(0,l.Lk)("div",D,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(s.images,(e,t)=>((0,l.uX)(),(0,l.CE)("div",{key:t,class:(0,c.C4)(["carousel-item",{active:0===t}])},[(0,l.Lk)("img",{src:s.url+e,class:"d-block w-100",alt:"..."},null,8,J)],2))),128))]),t[0]||(t[0]=(0,l.Fv)('<button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev"><span class="carousel-control-prev-icon" aria-hidden="true"></span><span class="visually-hidden">Previous</span></button><button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next"><span class="carousel-control-next-icon" aria-hidden="true"></span><span class="visually-hidden">Next</span></button>',2))])):(0,l.Q3)("",!0)],64)}var B={name:"MainCarousel",props:["images","url"],components:{App:V.A},setup(){return{}}},G=s(1241);const O=(0,G.A)(B,[["render",M]]);var Y=O,Z={name:"Product",components:{Shop:z["default"],ProductCard:q.A,LazyImage:T.A,productImagesCarousel:Y},setup(){const e=z["default"].setup().data,t=(0,U.KR)({}),s=(0,U.KR)([]),c=(0,S.lq)(),o=(0,U.KR)(),r=e=>(new Intl.NumberFormat).format(e),a=(0,U.KR)(),u=(0,U.KR)(),d=V.A.setup().url,i=V.A.setup().imgUrl,n=()=>{axios.get(d+"/api/get/product/"+c.params.slug).then(e=>{t.value=e.data}).then(()=>{o.value=t.value.products[0],p(),s.value=e.filter(e=>e.category_id==t.value.category_id&&e.id!=t.value.id)}).catch(e=>{console.error(e)})},p=()=>{let e=o.value.price?o.value.price:t.value.price,s=o.value.off?o.value.off:t.value.off;a.value=r(e),u.value=r(e-e*s*.01)};(0,l.sV)(()=>{console.log(c.params),window.scrollTo({top:0,behavior:"smooth"}),n()});const m=()=>{document.querySelector(".notif").classList.remove("d-none"),document.querySelector(".notif").classList.add("slide-up"),setTimeout(()=>{document.querySelector(".notif").classList.add("d-none")},1800)};return{product:t,products:e,sameProducts:s,price:a,offPrice:u,showNumbers:r,getData:n,url:d,imgUrl:i,selectedProduct:o,setPrice:p,addToCart:m}}};const $=(0,G.A)(Z,[["render",F],["__scopeId","data-v-64d90a6a"]]);var ee=$}}]);
//# sourceMappingURL=product.fe5258f3.js.map